<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · DistMesh.jl</title><meta name="title" content="Home · DistMesh.jl"/><meta property="og:title" content="Home · DistMesh.jl"/><meta property="twitter:title" content="Home · DistMesh.jl"/><meta name="description" content="Documentation for DistMesh.jl."/><meta property="og:description" content="Documentation for DistMesh.jl."/><meta property="twitter:description" content="Documentation for DistMesh.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>DistMesh.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#More-about-Distance-Functions"><span>More about Distance Functions</span></a></li><li><a class="tocitem" href="#More-about-Size-Functions"><span>More about Size Functions</span></a></li></ul></li><li><a class="tocitem" href="examples/">Examples</a></li><li><a class="tocitem" href="api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaGeometry/DistMesh.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaGeometry/DistMesh.jl/blob/master/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="DistMesh.jl"><a class="docs-heading-anchor" href="#DistMesh.jl">DistMesh.jl</a><a id="DistMesh.jl-1"></a><a class="docs-heading-anchor-permalink" href="#DistMesh.jl" title="Permalink"></a></h1><p><strong>DistMesh.jl</strong> is a Julia package for generating unstructured triangular and tetrahedral meshes. It uses <a href="https://en.wikipedia.org/wiki/Signed_distance_function">Signed Distance Functions</a> (SDFs) to define geometries, enabling the generation of high-quality, isotropic meshes for complex shapes defined by simple mathematical functions.</p><hr/><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><pre><code class="language-julia hljs">using Pkg
Pkg.add(&quot;DistMesh&quot;)
</code></pre><hr/><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><h3 id="A-Simple-Example-Mesh"><a class="docs-heading-anchor" href="#A-Simple-Example-Mesh">A Simple Example Mesh</a><a id="A-Simple-Example-Mesh-1"></a><a class="docs-heading-anchor-permalink" href="#A-Simple-Example-Mesh" title="Permalink"></a></h3><p>The primary entry point for 2D meshing is <code>distmesh2d</code>. It generates a mesh based on:</p><ul><li>A <strong>distance function</strong> <code>fd(p)</code> (negative inside, positive outside). In this example, we represent the unit circle by <span>$d(x,y) = \sqrt{x^2+y^2} - 1$</span>.</li><li>A <strong>relative size function</strong> <code>fh(p)</code>. For a uniform mesh, we can simply set <span>$h(x,y)=1$</span>.</li><li>An <strong>initial element edge length</strong> <code>h0</code>. Since our size function is uniform, this will also be roughly the final size of the generated elements.</li><li>A <strong>bounding box</strong> <code>bbox</code> for the domain. For the unit circle, we use the coordinates <code>((-1,-1), (1,1))</code>.</li></ul><p>The code below demonstrates how to implement this using DistMesh in Julia.</p><pre><code class="language-julia hljs">using DistMesh
using CairoMakie             # or Plots, or GLMakie (optional)

fd(p) = sqrt(sum(p.^2)) - 1  # or dcircle(p) - unit circle geometry
fh(p) = 1.0                  # or huniform(p) - uniform size function
hmin  = 0.2                  # initial edge lengths
bbox  = ((-1,-1), (1,1))     # bounding box for unit circle

msh = distmesh2d(fd, fh, hmin, bbox)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">DMesh: 2D, 88 nodes, 143 triangle elements</code></pre><p>The resulting mesh can be visualized with the <code>plot</code> command.</p><pre><code class="language-julia hljs">plot(msh)</code></pre><img src="index-8564a43e.png" alt="Example block output"/><h3 id="Accessing-the-generated-mesh"><a class="docs-heading-anchor" href="#Accessing-the-generated-mesh">Accessing the generated mesh</a><a id="Accessing-the-generated-mesh-1"></a><a class="docs-heading-anchor-permalink" href="#Accessing-the-generated-mesh" title="Permalink"></a></h3><p>The <code>msh</code> object contains the node coordinates <code>p</code> and the triangle indices <code>t</code>, stored as vectors of static vectors (for efficiency).</p><pre><code class="language-julia hljs"># Access the nodes and connectivity as vectors of static vectors
p, t = msh
p[1:3] # First 3 nodes</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element Vector{StaticArraysCore.SVector{2, Float64}}:
 [-0.9856195803270693, -0.16897941441793268]
 [-0.9750280673839828, 0.22208166846316924]
 [-0.834804839939257, -0.5505459852663713]</code></pre><pre><code class="language-julia hljs">t[1:3] # First 3 triangles (indices)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element Vector{StaticArraysCore.SVector{3, Int32}}:
 [48, 49, 37]
 [37, 49, 50]
 [48, 37, 36]</code></pre><pre><code class="language-julia hljs">p[t[1]] # x,y-coordinates of the first triangle</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element StaticArraysCore.SizedVector{3, StaticArraysCore.SVector{2, Float64}, Vector{StaticArraysCore.SVector{2, Float64}}} with indices SOneTo(3):
 [1.5443676823490012e-10, 0.041141826309186336]
 [0.11964714588337297, 0.23078113514802515]
 [-0.11964714570288205, 0.23078113535759998]</code></pre><p>If you prefer a matrix-based representation (similar to the original MATLAB DistMesh, except transposed), the utility function <code>as_arrays</code> creates a zero-allocation view for this. Note that if you modify these matrices, the original versions in <code>msh</code> will also be changed!</p><pre><code class="language-julia hljs"># Access the nodes and connectivity as matrices
p_mat, t_mat = as_arrays(msh)
p_mat[:, 1:3] # First 3 nodes</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2×3 Matrix{Float64}:
 -0.98562   -0.975028  -0.834805
 -0.168979   0.222082  -0.550546</code></pre><pre><code class="language-julia hljs">t_mat[:, 1:3] # First 3 triangles (indices)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3×3 Matrix{Int32}:
 48  37  48
 49  49  37
 37  50  36</code></pre><pre><code class="language-julia hljs">p_mat[:, t_mat[:, 1]] # x,y-coordinates of the first triangle</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2×3 Matrix{Float64}:
 1.54437e-10  0.119647  -0.119647
 0.0411418    0.230781   0.230781</code></pre><p>If you want separate re-allocated versions of these matrices, use <code>collect</code>.</p><h3 id="Fixed-points"><a class="docs-heading-anchor" href="#Fixed-points">Fixed points</a><a id="Fixed-points-1"></a><a class="docs-heading-anchor-permalink" href="#Fixed-points" title="Permalink"></a></h3><p>An optional argument to <code>distmesh2d</code> is <code>pfix</code> - a vector of frozen points that are forced to be part of the generated mesh. These are typically required for boundaries with sharp corners, since the implicit geometry representation as a signed distance function does not explicitly provide them.</p><p>Here is a simple example of a mesh of a rectangle, where we include the four corner points in <code>pfix</code>.</p><pre><code class="language-julia hljs">fd(p) = drectangle(p, 0, 1, 0, 1)
pfix = ((0,0), (1,0), (0,1), (1,1))
msh = distmesh2d(fd, huniform, 0.1, ((0,0), (1,1)), pfix)
plot(msh)</code></pre><img src="index-813cccf8.png" alt="Example block output"/><h3 id="Implicit-Geometry-vs-Distance-Function"><a class="docs-heading-anchor" href="#Implicit-Geometry-vs-Distance-Function">Implicit Geometry vs Distance Function</a><a id="Implicit-Geometry-vs-Distance-Function-1"></a><a class="docs-heading-anchor-permalink" href="#Implicit-Geometry-vs-Distance-Function" title="Permalink"></a></h3><p>Although the original version of DistMesh required actual signed distance functions for the geometry, this condition was relaxed in later versions. The algorithm actually accepts any smooth function with an implicitly defined zero level-set.</p><p>This can be very convenient when defining non-trivial geometries. For example, an ellipse with semi-axes 2 and 1 can now be represented as the zero level-set of <span>$d(x,y)=(x/2)^2 + (y/1)^2 - 1$</span>. Note that this is not the actual Euclidean distance function for the ellipse.</p><pre><code class="language-julia hljs">fd(p) = (p[1]/2)^2 + (p[2]/1)^2 - 1
bbox = ((-2,-1), (2,1))
msh = distmesh2d(fd, huniform, 0.2, bbox)
plot(msh)</code></pre><img src="index-9ae6c42f.png" alt="Example block output"/><h3 id="Non-uniform-size-function"><a class="docs-heading-anchor" href="#Non-uniform-size-function">Non-uniform size function</a><a id="Non-uniform-size-function-1"></a><a class="docs-heading-anchor-permalink" href="#Non-uniform-size-function" title="Permalink"></a></h3><p>For non-uniform element sizes, we provide a (relative) size function <span>$h(x,y)$</span>. In general, it is best to make this an absolute size function that gives the actual desired edge lengths at point . To achieve this, you set the initial edge lengths <code>hmin</code> to the smallest value of <span>$h(x,y)$</span> in the domain.</p><p>For example, to set the element sizes to  at a source and let the element sizes increase linearly away from the source, we use a size function <span>$h(x,y)=h_\mathrm{min} + 0.3d(x,y)$</span> where <span>$d(x,y)$</span> is the distance function of the source.</p><pre><code class="language-julia hljs"># Point source
hmin = 0.01
fh(p) = hmin + 0.3 * dcircle(p, r=0)
msh = distmesh2d(dcircle, fh, hmin, ((-1,-1), (1,1)))
plot(msh)</code></pre><img src="index-58672729.png" alt="Example block output"/><p>Multiple size function sources can be combined using the <code>min</code> function:</p><pre><code class="language-julia hljs"># Point and line sources
fd(p) = drectangle(p, 0, 1, 0, 1)
fh(p) = min(min(0.01 + 0.3*abs(dcircle(p, r=0)),
                0.025 + 0.3*abs(dpoly(p, [(0.3,0.7), (0.7,0.5)]))),
            0.15)
# Note: we explicitly add corners to pfix for the rectangle
pfix = ((0,0), (1,0), (0,1), (1,1))
msh = distmesh2d(fd, fh, 0.01, ((0,0), (1,1)), pfix)
plot(msh)</code></pre><img src="index-1246a334.png" alt="Example block output"/><h3 id="Randomness-and-Reproducibility"><a class="docs-heading-anchor" href="#Randomness-and-Reproducibility">Randomness and Reproducibility</a><a id="Randomness-and-Reproducibility-1"></a><a class="docs-heading-anchor-permalink" href="#Randomness-and-Reproducibility" title="Permalink"></a></h3><p>The DistMesh algorithm is notoriously <em>chaotic</em>, or sensitive to initial conditions. This means that very small perturbations in the mesh calculations can grow to large changes in the mesh (resulting in completely different meshes).</p><p>However, running on the same deterministic computer, if you repeat a <code>distmesh2d</code> call twice with uniform size functions, it usually gives two identical meshes because it uses a deterministic grid-based initialization:</p><pre><code class="language-julia hljs">msh1 = distmesh2d(dcircle, huniform, 0.2, ((-1,-1), (1,1)))
msh2 = distmesh2d(dcircle, huniform, 0.2, ((-1,-1), (1,1)))
msh1.p == msh2.p &amp;&amp; msh1.t == msh2.t</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><p>For <strong>non-uniform size functions</strong>, DistMesh uses the <code>rand</code> function for the initial point distribution (rejection sampling). This means two meshes with identical inputs will in general not be the same:</p><pre><code class="language-julia hljs">fh(p) = 0.01 + 0.3 * dcircle(p, r=0)
msh1 = distmesh2d(dcircle, fh, 0.01, ((-1,-1), (1,1)))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">DMesh: 2D, 264 nodes, 505 triangle elements</code></pre><pre><code class="language-julia hljs">msh2 = distmesh2d(dcircle, fh, 0.01, ((-1,-1), (1,1)))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">DMesh: 2D, 263 nodes, 502 triangle elements</code></pre><pre><code class="language-julia hljs"># Check if they are identical (likely false)
msh1.p == msh2.p &amp;&amp; msh1.t == msh2.t</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><p>Many times this is undesirable (e.g., for regression testing or debugging). You can seed the random number generator to make the meshes identical:</p><pre><code class="language-julia hljs">using Random
fh(p) = 0.01 + 0.3 * dcircle(p, r=0)

Random.seed!(1234)
msh1 = distmesh2d(dcircle, fh, 0.01, ((-1,-1), (1,1)))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">DMesh: 2D, 247 nodes, 469 triangle elements</code></pre><p>Now we generate the second mesh with the same seed:</p><pre><code class="language-julia hljs">Random.seed!(1234)
msh2 = distmesh2d(dcircle, fh, 0.01, ((-1,-1), (1,1)))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">DMesh: 2D, 247 nodes, 469 triangle elements</code></pre><p>Finally, we verify they are identical:</p><pre><code class="language-julia hljs">msh1.p == msh2.p &amp;&amp; msh1.t == msh2.t</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><h3 id="Save/export-meshes"><a class="docs-heading-anchor" href="#Save/export-meshes">Save/export meshes</a><a id="Save/export-meshes-1"></a><a class="docs-heading-anchor-permalink" href="#Save/export-meshes" title="Permalink"></a></h3><p>DistMesh does not provide built-in mesh export functionality to external formats. However, it is easy to write specialized routines, e.g., based on text files.</p><p>A common format is to have an initial line with metadata (number of nodes and elements), followed by comma-separated rows for node positions and element connectivities:</p><pre><code class="language-julia hljs">using DelimitedFiles

function savemesh(msh::DMesh, fname)
    open(fname, &quot;w&quot;) do io
        p, t = as_arrays(msh)
        println(io, &quot;$(length(p)) $(length(t)) # nbr_nodes nbr_elems&quot;)
        writedlm(io, p&#39;, &#39;,&#39;)
        writedlm(io, t&#39;, &#39;,&#39;)
    end
end

msh = distmesh2d(dcircle, huniform, 0.2, ((-1,-1), (1,1)))
fname = joinpath(tempdir(), &quot;mesh.dat&quot;)
savemesh(msh, fname)
println(&quot;Mesh saved to file $fname&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Mesh saved to file /tmp/mesh.dat</code></pre><hr/><h2 id="More-about-Distance-Functions"><a class="docs-heading-anchor" href="#More-about-Distance-Functions">More about Distance Functions</a><a id="More-about-Distance-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#More-about-Distance-Functions" title="Permalink"></a></h2><p>TODO</p><hr/><h2 id="More-about-Size-Functions"><a class="docs-heading-anchor" href="#More-about-Size-Functions">More about Size Functions</a><a id="More-about-Size-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#More-about-Size-Functions" title="Permalink"></a></h2><p>TODO</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 27 January 2026 19:00">Tuesday 27 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
